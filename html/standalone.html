<html>
<head>
<title>Playgrub</title>
<link rel="stylesheet" type="text/css" href="css/standalone.css" />
<script src='http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js' type='text/javascript'></script>
<script src='/js/xml2json.js' type='text/javascript'></script>
<script src='/js/playgrub.js' type='text/javascript'></script>
<script src='/js/playdar_compressed.js' type='text/javascript'></script>
<script src='js/soundmanager2.js' type='text/javascript'></script>
<script type='text/javascript'>
// Setup Playgrub
Playgrub.Events = {

    // Playgrub init
    init: function() {
        new Playgrub.Playlist();
        new Playgrub.Sidebar();
        new Playgrub.XSPFSource(Playgrub.Util.xspf_hash());  // TODO: extends PlaylistSource
        new Playgrub.Content();
        new Playgrub.Player();
        Playgrub.player.setup_playdar();
    },

    // scraper done finding songs
    foundSongs: function() {
        new Playgrub.Content();
        // tell container it can show the playlist
        Playgrub.container.playlist_loaded();
        Playgrub.content.display_playlist();
        Playgrub.player.resolve_current_playlist();
    },
};

// setup soundManager2
soundManager.waitForWindowLoad = true;
soundManager.url = '/static/soundmanager2_flash9.swf';
soundManager.flashVersion = 9;
soundManager.useMovieStar = true;
soundManager.consoleOnly = true;
soundManager.debugMode = false;
soundManager.flashLoadTimeout = 0;

// jquery is ready
$(function() {
    Playgrub.Events.init();
});
</script>
</head>
<body>
</body>
</html>
